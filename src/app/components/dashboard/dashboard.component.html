<!-- <div class="container-fluid">
  <div class="row">
   
    <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
      <div class="inner-adjust">
        <div class="pt-3 pb-2 mb-3 border-bottom">
          <h1 class="h2">User Profile</h1>
        </div>
        <div class="row" *ngIf="authService.userData as user">
          <div class="col-md-12">
            <div class="media">
              <img
                class="align-self-start mr-5 img-thumbnail rounded-circle"
                src="{{
                  user.photoURL ? user.photoURL : '/assets/dummy-user.png'
                }}"
                alt="{{ user.displayName }}"
              />
              <div class="media-body">
                <h1>
                  Hello:
                  <strong>{{
                    user.displayName ? user.displayName : "User"
                  }}</strong>
                </h1>
                <p>
                  User ID: <strong>{{ user.uid }}</strong>
                </p>
                <p>
                  Email: <strong>{{ user.email }}</strong>
                </p>
                <p>
                  Email Verified: <strong>{{ user.emailVerified }}</strong>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</div> -->
<ngx-spinner
  bdColor="rgba(0, 0, 0, 0.8)"
  size="medium"
  color="#fff"
  type="square-jelly-box"
  [fullScreen]="true"
>
  <p style="color: white; margin-top: 50px">Loading...</p>
</ngx-spinner>
<!-- 
<div class="container main my-3" *ngIf="loading">
  <div>
    <svg
      data-bs-toggle="modal"
      (click)="openDialog()"
      xmlns="http://www.w3.org/2000/svg"
      width="32"
      height="32"
      fill="currentColor"
      class="bi bi-cloud-plus-fill"
      style="cursor: pointer; color: #4a64f5"
      viewBox="0 0 16 16"
      matTooltip="Create New Notes"
      matTooltipPosition="right"
    >
      <path
        d="M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm.5 4v1.5H10a.5.5 0 0 1 0 1H8.5V10a.5.5 0 0 1-1 0V8.5H6a.5.5 0 0 1 0-1h1.5V6a.5.5 0 0 1 1 0z"
      />
    </svg>
  </div>
  <div class="ts-table">
    <table class="table table-striped table-hover" style="min-width: 900px">
      <thead>
        <tr>
          <th scope="col" style="text-align: center" class="table-dark">Id</th>
          <th scope="col" class="table-dark">Name</th>
          <th scope="col" class="table-dark">Personal Info</th>
          <th scope="col" class="table-dark">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of dataSource; let i = index">
          <th style="font-size: 14px; font-weight: 400">{{ item.id }}</th>
          <td style="min-width: 100px">{{ item.name }}</td>
          <td style="min-width: 100px">{{ item.personalInfo }}</td>
          <td class="action" style="min-width: 130px">
            <svg
              (click)="edit(item.id)"
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-pencil-fill"
              viewBox="0 0 16 16"
              style="cursor: pointer"
              matTooltip="Edit notes"
              matTooltipPosition="below"
            >
              <path
                d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"
              />
            </svg>
            <svg
              (click)="delete(item.id)"
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-trash-fill"
              viewBox="0 0 16 16"
              style="cursor: pointer"
              matTooltip="Delete note"
              matTooltipPosition="below"
            >
              <path
                d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"
              />
            </svg>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div> -->

<div class="buttonDiv">
  <button class="btn btn-primary addNoteButton" (click)="openDialog()">
    <div>
      <svg
        data-bs-toggle="modal"
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        fill="currentColor"
        class="bi bi-cloud-plus-fill"
        style="cursor: pointer; color: #fff; margin-right: 5px"
        viewBox="0 0 16 16"
        matTooltip="Create New Notes"
        matTooltipPosition="right"
      >
        <path
          d="M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm.5 4v1.5H10a.5.5 0 0 1 0 1H8.5V10a.5.5 0 0 1-1 0V8.5H6a.5.5 0 0 1 0-1h1.5V6a.5.5 0 0 1 1 0z"
        />
      </svg>
    </div>
    Add New Note
  </button>
</div>

<div class="mainCardWrapper">
  <div
    class="cardDemo"
    style="--background: #3c3b3d; --text: white"
    *ngFor="let item of dataSource; let i = index"
  >
    <div class="textToDisplay" [ngStyle]="{ background: item.colorCode ? item.colorCode : '#000' }">
      <div class="titleGrup">
        <h4 class="itemName">{{ item.name }}</h4>

        <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu" xPosition="before">
          <button
            mat-menu-item
            style="
              text-align: center;
              font-size: 15px;
              height: 34px;
              display: flex;
              justify-content: flex-start;
              align-items: center;
            "
            (click)="edit(item.id)"
          >
            <span>Edit Note</span>
          </button>
          <button
            mat-menu-item
            style="
              text-align: center;
              font-size: 15px;
              height: 34px;
              display: flex;
              justify-content: flex-start;
              align-items: center;
            "
            (click)="delete(item.id)"
          >
            <span>Delete Note</span>
          </button>
        </mat-menu>
      </div>

      <hr style="margin: 5px 0; height: 2px; opacity: 0.75; border-radius: 10px" />

      <div
        style="
          height: 60px;
          line-height: 20px;
          overflow: hidden;
          text-overflow: ellipsis;
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
        "
      >
        <span class="itemInfo">{{ item.personalInfo }}</span>
      </div>
    </div>

    <!-- <div class="action">
      <i
        class="fas fa-pen"
        matTooltip="Edit notes"
        style="cursor: pointer; margin-right: 10px"
        matTooltipPosition="below"
        (click)="edit(item.id)"
      ></i>
      <i
        class="fas fa-trash-alt"
        (click)="delete(item.id)"
        matTooltip="Delete note"
        matTooltipPosition="below"
        style="cursor: pointer"
      ></i>
    </div> -->
  </div>
</div>

<button
  #btnShow
  style="display: none"
  id="btnShow"
  type="button"
  class="btn btn-primary"
  data-bs-toggle="modal"
  data-bs-target="#exampleModal"
></button>

<div
  id="exampleModal"
  #myModal
  class="modal fade"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" style="margin: 0; font-size: 20px; font-weight: 500">
          {{ isEdit ? "Update Note" : "Add New Note" }}
        </h5>
        <button
          #btnClose
          id="btnClose"
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
          (click)="clearEdit()"
        ></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <label for="exampleFormControlInput1" class="form-label">Name</label>
          <input
            type="text"
            [(ngModel)]="name"
            class="form-control"
            id="exampleFormControlInput1"
            placeholder="Enter name"
            [formControl]="noteName"
          />
          <div
            class="alert alert-danger"
            role="alert"
            style="padding: 0 15px; font-size: 10px; text-align: center; margin: 0"
            *ngIf="noteName.invalid && noteName.touched"
          >
            <span class="text-danger" *ngIf="noteName.hasError('required')">Name is Required </span>
            <span class="text-danger" *ngIf="noteName.hasError('minlength')"
              >Note Name Must Be AtMost 30 Character</span
            >
          </div>
        </div>
        <div class="mb-3">
          <label for="exampleFormControlTextarea1" class="form-label">Personal Info</label>
          <textarea
            class="form-control"
            [(ngModel)]="personalInfo"
            placeholder="Enter some personal info"
            id="exampleFormControlTextarea1"
            rows="3"
            [formControl]="noteDescription"
          ></textarea>
          <div
            class="alert alert-danger"
            role="alert"
            style="padding: 0 15px; font-size: 10px; text-align: center; margin: 0"
            *ngIf="noteDescription.invalid && noteDescription.touched"
          >
            <span class="text-danger">Note Information is Required</span>
          </div>
        </div>

        <div class="mb-3">
          <!-- <select class="form-select" aria-label="Default select example" [(ngModel)]="selectedColor">
            <option value="#000">Please Select ColorCode</option>
            <option *ngFor="let col of color" [value]="col.colorCode">
              {{ col.colorName }}
            </option>
          </select> -->

          <div class="selectedColor">
            <label>Select Color:- </label>
            <input class="form-control" [(colorPicker)]="selectedColor" [style.background]="selectedColor" />
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" (click)="clearEdit()" class="btn btn-secondary" data-bs-dismiss="modal">
          Close
        </button>
        <button type="button" (click)="add()" class="btn btn-primary" [disabled]="isAddUpdate">
          {{ isEdit ? "Update Note" : "Add Note" }}
        </button>
      </div>
    </div>
  </div>
</div>
